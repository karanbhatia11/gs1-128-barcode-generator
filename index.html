<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GS1-128 Barcode Generator</title>

<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>

<style>
body { font-family: Arial, sans-serif; padding: 20px; }

/* INPUT UI */
.controls label { display:block; margin-top:10px; }
.controls input { width:260px; padding:6px; }
.controls button { margin-top:15px; padding:8px 16px; }

/* LABEL */
.label {
  width: 100mm;
  border: 1px solid #000;
  padding: 10mm;
  margin-top: 20px;
}

.item-text {
  font-size: 14px;
  margin-bottom: 6px;
}

svg { width: 100%; }

/* PRINT / PDF */
@media print {
  .controls { display: none; }
  body { padding: 0; }
  .label { border: none; }
}
</style>
</head>

<body>

<div class="controls">
  <h2>GS1-128 Generator</h2>

  <label>Item No (GTIN-14)</label>
  <input id="gtin" value="09421908260067">

  <label>Use By (DD.MM.YY)</label>
  <input id="expiry" value="01.05.28">

  <label>Batch / Lot</label>
  <input id="batch" value="055019">

  <label>Quantity</label>
  <input id="qty" value="40">

  <label>SSCC</label>
  <input id="sscc" value="012345600000001620">

  <br>
  <button onclick="generate()">Generate</button>
  <button onclick="window.print()">Download PDF</button>
</div>

<!-- LABEL OUTPUT -->
<div class="label" id="label">
  <div class="item-text" id="itemText"></div>
  <svg id="productBarcode"></svg>
</div>

<script>
function generate() {
  productBarcode.innerHTML = "";

  const gtin = document.getElementById("gtin").value;
  const [dd, mm, yy] = document.getElementById("expiry").value.split(".");
  const expiry = yy + mm + dd;
  const batch = document.getElementById("batch").value;
  const qty = document.getElementById("qty").value;

  const gs1 =
    "(02)" + gtin +
    "(17)" + expiry +
    "(10)" + batch +
    "(37)" + qty;

  // Item number text (printed on PDF)
  document.getElementById("itemText").innerText =
    "Item No: " + gtin;

  JsBarcode("#productBarcode", gs1, {
    format: "CODE128",
    height: 70,
    displayValue: true,
    fontSize: 14
  });
}
</script>

</body>
</html>
